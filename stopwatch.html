<!DOCTYPE html>
<html>
    <head>
        <title>Stopwatch</title>
        <link rel="stylesheet" href="stopwatch.css">
    </head>

    <body>
        <div class="container">
            <div class="watch">
                <div class="outer-circle">
                    <div class="inner-circle">
                            <span class="text minute"> 0 :</span>
                            <span class="text sec">&nbsp; 0 :</span>
                            <span class="text msec">&nbsp; 0</span>
                            </div>
                </div>
            </div>

            <div class="button-wrapper">
                <button class="button play">Play</button>
                <button class="button lap hidden">Lap</button>
                <button class="button reset hidden">Reset</button>

            </div>
        </div>
            <ul class="laps">
                
                <button class="clear-all">clear</button>
                
            </ul>


        </div>
        <script>
const playbutton = document.getElementsByClassName("play")[0];
const lapbutton = document.getElementsByClassName("lap")[0];
const resetbutton = document.getElementsByClassName("reset")[0];
const clearbutton = document.getElementsByClassName("clear-all")[0];
const minute = document.getElementsByClassName("minute")[0];
const second = document.getElementsByClassName("sec")[0];
const centisecond = document.getElementsByClassName("msec")[0];
const laps = document.getElementsByClassName("laps")[0];

let isplay = false;
let secounter = 0;
let min;
let sec;
let centisec;
let centiounter=0;
let mincounter=0;
let lapitem=0;
let isreset=false;
const togglebutton = () => {
    lapbutton.classList.remove("hidden");
    resetbutton.classList.remove("hidden");
}

const play = () => {
    if (!isplay && !isreset) {
        playbutton.innerHTML = 'pause';
        min = setInterval(() => {
             minute.innerHTML = `&nbsp;${++mincounter} : `;
        }, 60*1000);
        sec = setInterval(() => {
            if(secounter===60){
                secounter=0;

            }

             second.innerHTML = `&nbsp;${++secounter} :`;
        }, 1000);
        centisec = setInterval(() => {
            if(centiounter===100){
                centiounter=0;
            }
            centisecond.innerHTML = `&nbsp;${++centiounter}`;
        }, 10);
        isplay = true;
        isreset=true;
    } else {
        playbutton.innerHTML = 'play';
        clearInterval(min);
        clearInterval(sec);
        clearInterval(centisec);
        isplay = false;
        isreset=false;
    }
    togglebutton();
}

const reset = () => {
    isreset= true;
    clearInterval(sec);
    clearInterval(min);
    clearInterval(centisec);
    secounter = 0;
    centiounter=0;
    mincounter=0;
    second.innerHTML=`&nbsp;0:`;
    centisecond.innerHTML= `0`;
    minute.innerHTML='0 :';
    isplay = false;
    playbutton.innerHTML = 'play';
    lapbutton.classList.add("hidden");
    resetbutton.classList.add("hidden");
}
const lap = () => {
    const li = document.createElement("li");
    const number=document.createElement("span");
    const time=document.createElement("span");

    li.setAttribute("class","lap-item");
    number.setAttribute("class","number");
    time.setAttribute("class","time");

    number.innerText = `#${++lapitem}`;
    time.innerHTML=`${mincounter}: ${secounter}: ${centiounter} `;
    li.append(number,time);
    laps.append(li)
    clearbutton.classList.remove("hidden");

}

const clearall=()=>{
    laps.innerHTML='';
    laps.append(clearbutton);
    clearbutton.classList.add("hidden");
}

playbutton.addEventListener("click", play);
resetbutton.addEventListener("click", reset);
lapbutton.addEventListener("click",lap);
clearbutton.addEventListener("click",clearall);

        </script>
        
    </body>
</html>